<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <title>Formulario</title>
</head>
<body>
    <header>
        <div class="container"> 
            <nav class="navbar navbar-expand-lg navbar-dark">
                <div class="container">
                  <a class="navbar-brand col-3" href="#">
                    <img src="./img/codoacodo.png" alt="logo" width="100px">
                    Conf Bs As
                  </a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                      <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">La conferencia</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#fecha">El lugar y la fecha</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#inscripcion">Conviértete en orador</a>
                      </li>
                      <li class="nav-item green">
                        <a href="#" class="nav-link text-success" id="ni_tickets">Comprar tickets</a>
                      </li>
                    </ul>
                  </div>
                </div>
            </nav>
        </div>
    </header>
    <section class="grid-section mt-4" id="promociones">
      <div class="container mb-5">
        <div class="row gy-3">
          <div class="col-md-4">
            <div class="card border border-primary text-center">
              <div class="card-body">
                <h5 class="card-title">Estudiante</h5>
                <p class="card-text">Tienen un descuento</p>
                <h5 class="card-title">80%</h5>
                <p class="card-text text-black-50">* presentar documentación</p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card border border-info text-center">
              <div class="card-body">
                <h5 class="card-title">Trainee</h5>
                <p class="card-text">Tienen un descuento</p>
                <h5 class="card-title">50%</h5>
                <p class="card-text text-black-50">* presentar documentación</p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card border border-warning text-center">
              <div class="card-body">
                <h5 class="card-title">Junior</h5>
                <p class="card-text">Tienen un descuento</p>
                <h5 class="card-title">15%</h5>
                <p class="card-text text-black-50">* presentar documentación</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section>
      <div class="container d-flex align-items-center flex-column">
        <div class="container text-center my-3">
          <h6 class="text-black-50">VENTA</h6>
          <h2>VALOR DE TICKET: $200</h2>
        </div>
        <form action="" id="formulario">
          <div class="row">
            <div class="col-6">
              <input type="text" class="form-control" id="nombre" placeholder="Nombre">
            </div>
            <div class="col-6">
              <input type="text" class="form-control" id="apellido" placeholder="Apellido">
            </div>
          </div>
          <div class="row">
            <div class="col-12 my-3">
              <div class="input-group has-validation">
                <input type="text" class="form-control" id="correo" aria-describedby="inputGroupPrepend" placeholder="Correo">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <label for="Cantidad" class="form-label">Cantidad</label>
              <input type="text" class="form-control" id="Cantidad" placeholder="Cantidad">
            </div>
            <div class="col-6">
              <label for="categorias">Categoría</label>              
                <select class="form-select mt-2" id="categorias">
                  <option selected disabled value="">Seleccione una</option>
                  <option value="Estudiante">Estudiante</option>
                  <option value="Trainee">Trainee</option>
                  <option value="Junior">Junior</option>
                  <option value="Sin descuento">Sin descuento</option>
                </select>
                <div class="invalid-feedback">
                  Por favor seleccione una categoría.
                </div>             
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-12 my-3 p-3 bg-dark text-white rounded" id="total">
              Total a pagar: $
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <button type="submit" class="btn btn-danger col-12 my-3 p-2">Borrar</button>
            </div>
            <div class="col-6">
              <button type="button" class="btn btn-primary col-12 my-3 p-2" onclick="capturar()">Resumen</button>
            </div>
          </div>      
        </form>
      </div>
    </section>
    <footer class="text-white pt-5 pb-4">

      <div class="container text-center text-md-left">

        <div class="row text-center text-md-left">
          <div class="col-xs-12 col-md-6 col-lg-3">
            <img src="./img/codoacodo.png" class="img-fluid" alt="">
          </div>
          <div class="col-xs-12 col-md-6 col-lg-1 mx-auto mt-3">
            <a class="text-white text-decoration-none" href="#">Preguntas frecuentes</a>
          </div>
          <div class="col-xs-12 col-md-6 col-lg-1 mx-auto mt-3">
            <a class="text-white text-decoration-none" href="#">Contáctanos</a>
          </div>
          <div class="col-xs-12 col-md-6 col-lg-1 mx-auto mt-3">
            <a class="text-white text-decoration-none" href="#">Prensa</a>
          </div>
          <div class="col-xs-12 col-md-6 col-lg-1 mx-auto mt-3">
            <a class="text-white text-decoration-none" href="#">Conferencias</a>
          </div>
          <div class="col-xs-12 col-md-6 col-lg-1 mx-auto mt-3">
            <a class="text-white text-decoration-none" href="#">Términos y condiciones</a>
          </div>
          <div class="col-xs-12 col-md-6 col-lg-1 mx-auto mt-3">
            <a class="text-white text-decoration-none" href="#">Privacidad</a>
          </div>
          <div class="col-xs-12 col-md-6 col-lg-1 mx-auto mt-3">
            <a class="text-white text-decoration-none" href="#">Estudiantes</a>
          </div>
        </div>
        <hr class="mb-4">
        <div class="row align-items-center">
          <div class="col-md-7 col-lg-8">
            <p>Copyright ©2022 Todos los derechos reservados</p>
          </div>
        </div>
      </div>
    </footer>
    <script>

      /*Validar el formulario
      const forms = document.querySelectorAll('.needs-validation')
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
          }
          form.classList.add('was-validated')
        }, false)
      })
      */

      //Reiniciar los campos del formulario cada vez que se envia
      const form = document.getElementById("formulario");
      form.addEventListener('submit', function(event){
        event.preventDefault();
        form.reset();
        document.getElementById("total").innerHTML = 'Total a pagar: $';
      })

      const toastTrigger = document.getElementById('enviar')
      const toastLiveExample = document.getElementById('liveToast')
      if (toastTrigger) {
        const toastBootstrap = bootstrap.Toast.getOrCreateInstance(toastLiveExample)
        toastTrigger.addEventListener('click', () => {
          toastBootstrap.show()
        })
      }

      function capturar(){
        //captura los datos que le pasa el usuario a cantidad y categoria
        let cantidad = document.getElementById("Cantidad").value;
        let categoria = document.querySelector("#categorias").value;

        //Sentencias condicionales que preguntan el tipo de categoria para hacer su respectivo descuento
        if(categoria == "Estudiante"){
          cantidad = (cantidad*200)-(cantidad*200*80/100);
          document.getElementById("total").innerHTML = 'Total a pagar: $' + cantidad;
        }
        if(categoria == "Trainee"){
          cantidad = (cantidad*200)-(cantidad*200*50/100);
          document.getElementById("total").innerHTML = 'Total a pagar: $' + cantidad;
        }
        if(categoria == "Junior"){
          cantidad = (cantidad*200)-(cantidad*200*15/100);
          document.getElementById("total").innerHTML = 'Total a pagar: $' + cantidad;
        }
        if(categoria == "Sin descuento"){
          cantidad = cantidad*200;
          document.getElementById("total").innerHTML = 'Total a pagar: $' + cantidad;
        }
      }

      
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>
</html>